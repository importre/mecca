<!DOCTYPE html>
<html>

<head>
<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
<script src="bower_components/platform/platform.js"></script>

<link rel="import" href="bower_components/font-roboto/roboto.html">
<link rel="import" href="bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="bower_components/paper-input/paper-input.html">

<link rel="import" href="elements/repo-list.html">

<link rel="stylesheet" href="styles/mecca.css">
<link rel="stylesheet" href="bower_components/octicons/octicons/octicons.css">
</head>

<body unresolved touch-action="auto">

<core-header-panel>

<core-toolbar>
<paper-tabs id="tabs" valueattr="name" selected="all" self-end>
<paper-tab name="all">ALL</paper-tab>
<paper-tab name="library">LIBRARY</paper-tab>
<paper-tab name="android-l">ANDROID-L</paper-tab>
</paper-tabs>
</core-toolbar>

<div class="container" layout vertical center>
  <!--
  <paper-input label="Search" floatingLabel></paper-input>
  -->

  <span class="mega-octicon octicon-octoface"></span>
  <repo-list show="all" url="data/android.json"></repo-list>
</div>

</core-header-panel>


<script>
var tabs = document.querySelector('paper-tabs');
var list = document.querySelector('repo-list');

tabs.addEventListener('core-select', function() {
    list.$.selector.selected = 0;
    list.page = 0;
    this.async(function() {
      if (tabs.selected === 'all') {
        list.url = 'data/android.json';
      } else if (list.show === 'library') {
        list.url = 'data/lib_repos.json';
      } else if (list.show === 'android-l') {
        list.url = 'data/l_repos.json';
      } else {
        list.url = null;
      }

      list.show = tabs.selected;
    }, null, 300);
});

</script>

</body>

</html>
